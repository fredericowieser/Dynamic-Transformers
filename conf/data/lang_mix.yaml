_target_: src.data.mixed_dataset.MixedDataset
_recursive_: false   # Don't instantiate children automatically
_convert_:  partial  # Pass nested structures as DictConfig/ListConfig

dataset_configs:

  # Category 1: Core Knowledge & Coherence (~45%)
  # High-quality English text foundation

  - _target_: src.data.huggingface_dataset.HuggingFaceDataset
    dataset_name: "wikitext"
    dataset_config: "wikitext-103-raw-v1"  # Clean benchmark dataset
    text_column: "text"
    train_subset_ratio: 1.0  # Use full dataset

  - _target_: src.data.huggingface_dataset.HuggingFaceDataset
    dataset_name: "cnn_dailymail"
    dataset_config: "3.0.0"
    text_column: "article"  # Full articles for long-form text
    train_subset_ratio: 0.2  # 20% for high-quality news

  - _target_: src.data.huggingface_dataset.HuggingFaceDataset
    dataset_name: "roneneldan/TinyStories"  # Narrative and causal learning
    text_column: "text"
    train_subset_ratio: 1.0

  # Category 2: Code & Technical Acumen (~25%)
  # High-quality code for HumanEval and MBPP performance

  - _target_: src.data.huggingface_dataset.HuggingFaceDataset
    dataset_name: "codeparrot/codeparrot-clean-valid"  # Validated Python code
    text_column: "content"
    train_subset_ratio: 1.0

  # - _target_: src.data.huggingface_dataset.HuggingFaceDataset
  #   dataset_name: "bigcode/the-stack-smol"
  #   text_column: "content" # The text column for this dataset is 'content'.
  #   train_subset_ratio: 0.2

  # Category 3: Mathematical & Scientific Reasoning (~20%)
  # Targets MATH, GSM8K, and science benchmarks

  - _target_: src.data.huggingface_dataset.HuggingFaceDataset
    dataset_name: "gsm8k"
    dataset_config: "main"
    text_column: "question"  # Question text for pre-training
    train_subset_ratio: 1.0  # Full dataset (small size)

  - _target_: src.data.huggingface_dataset.HuggingFaceDataset
    dataset_name: "sciq"  # Science questions for reasoning
    text_column: "support"  # Supporting evidence text
    train_subset_ratio: 1.0

  # Category 4: Multilingual Capabilities (~10%)
  # Targeted multilingual understanding and translation

  # - _target_: src.data.huggingface_dataset.HuggingFaceDataset
  #   # REPLACED: Switched to the stable UN Parallel Corpus for multilingual data.
  #   dataset_name: "un_pc"
  #   dataset_config: "en-fr" # English-French parallel text.
  #   text_column: "translation" # Contains a dictionary with 'en' and 'fr' keys.
  #   train_subset_ratio: 0.2 # Take a 20% slice to keep it fast.
